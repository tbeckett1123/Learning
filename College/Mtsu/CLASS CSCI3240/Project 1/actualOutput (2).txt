00000000: 2f2a 204e 616d 653a 2020 2020 5469 6d6f  /* Name:    Timo
00000010: 7468 7920 4265 636b 6574 740a 202a 2050  thy Beckett. * P
00000020: 726f 6a65 6374 3a20 310a 202a 2044 6573  roject: 1. * Des
00000030: 6372 6970 7469 6f6e 3a20 5772 6974 6520  cription: Write 
00000040: 6120 4320 7072 6f67 7261 6d20 7468 6174  a C program that
00000050: 2074 616b 6573 2061 2073 696e 676c 6520   takes a single 
00000060: 636f 6d6d 616e 642d 6c69 6e65 2061 7267  command-line arg
00000070: 756d 656e 7420 616e 6420 7072 6f64 7563  ument and produc
00000080: 6573 2074 6865 2073 616d 6520 6f75 7470  es the same outp
00000090: 7574 2061 7320 7468 6520 7878 6420 2020  ut as the xxd   
000000a0: 0a20 2a20 7072 6f67 7261 6d20 7769 7468  . * program with
000000b0: 7468 6520 7361 6d65 2061 7267 756d 656e  the same argumen
000000c0: 742e 2059 6f75 206d 7573 7420 696e 636c  t. You must incl
000000d0: 7564 6520 6d65 616e 696e 6766 756c 2063  ude meaningful c
000000e0: 6f6d 6d65 6e74 7320 6f6e 2079 6f75 7220  omments on your 
000000f0: 636f 6465 2e20 596f 7520 6d75 7374 206e  code. You must n
00000100: 616d 6520 796f 7572 2070 726f 6772 616d  ame your program
00000110: 2066 696c 6520 6173 200a 202a 2070 726f   file as . * pro
00000120: 6a65 6374 312e 632e 200a 202a 202a 202a  ject1.c. . * * *
00000130: 202a 202a 202a 202a 202a 202a 202a 202a   * * * * * * * *
00000140: 202a 202a 202a 202a 202a 202a 202a 202a   * * * * * * * *
00000150: 202a 202a 202a 202a 202a 202a 202a 202a   * * * * * * * *
00000160: 202a 202a 202a 202a 202a 202a 202a 202a   * * * * * * * *
00000170: 202a 202a 202a 202a 202a 202a 2f0a 2369   * * * * * */.#i
00000180: 6e63 6c75 6465 203c 7374 6469 6f2e 683e  nclude <stdio.h>
00000190: 0a23 696e 636c 7564 6520 3c63 7479 7065  .#include <ctype
000001a0: 2e68 3e0a 0a69 6e74 206f 6666 7365 745b  .h>..int offset[
000001b0: 3136 5d20 3d20 7b20 3330 2c20 3238 2c20  16] = { 30, 28, 
000001c0: 3236 2c20 3234 2c20 3232 2c20 3230 2c20  26, 24, 22, 20, 
000001d0: 3138 2c20 3136 2c20 3134 2c20 3132 2c20  18, 16, 14, 12, 
000001e0: 3130 2c20 382c 2036 2c20 342c 2032 2c20  10, 8, 6, 4, 2, 
000001f0: 3020 7d3b 0a0a 766f 6964 2049 6e69 7441  0 };..void InitA
00000200: 7272 6179 2869 6e74 2073 697a 652c 2063  rray(int size, c
00000210: 6861 722a 2062 7566 6665 7229 3b0a 0a69  har* buffer);..i
00000220: 6e74 206d 6169 6e28 696e 7420 6172 6763  nt main(int argc
00000230: 2c20 6368 6172 2a2a 2061 7267 7629 0a7b  , char** argv).{
00000240: 0a20 2020 202f 2f20 4e6f 7465 2074 6861  .    // Note tha
00000250: 7420 7468 6520 6669 7273 7420 656c 656d  t the first elem
00000260: 656e 7420 696e 2061 7267 7620 6973 2022  ent in argv is "
00000270: 2e2f 5072 6f6a 6563 7431 222e 2020 5468  ./Project1".  Th
00000280: 6520 6669 6c65 206e 616d 6520 7769 6c6c  e file name will
00000290: 2062 6520 696e 2074 6865 2032 6e64 2065   be in the 2nd e
000002a0: 6c65 6d65 6e74 2e0a 2020 2020 2020 2020  lement..        
000002b0: 0a20 2020 2063 6861 7220 696e 7075 743b  .    char input;
000002c0: 2020 2020 0a20 2020 2063 6861 7220 6f75      .    char ou
000002d0: 7470 7574 5b31 375d 3b0a 2020 2020 4649  tput[17];.    FI
000002e0: 4c45 2a20 6669 6c65 5074 723b 0a20 2020  LE* filePtr;.   
000002f0: 2069 6e74 206c 696e 6520 3d20 302c 202f   int line = 0, /
00000300: 2f20 6c69 6e65 2063 6f75 6e74 6572 2e0a  / line counter..
00000310: 2020 2020 7370 6163 6572 203d 2030 2c20      spacer = 0, 
00000320: 2020 2f2f 2074 7261 636b 696e 6720 7370    // tracking sp
00000330: 6163 6573 2066 6f72 2068 6578 2064 756d  aces for hex dum
00000340: 702e 2020 2020 0a20 2020 2063 6f75 6e74  p.    .    count
00000350: 203d 2030 3b20 2020 202f 2f20 7472 6163   = 0;    // trac
00000360: 6b69 6e67 2074 6865 2063 6861 7261 6374  king the charact
00000370: 6572 2063 6f75 6e74 2066 6f72 2074 6865  er count for the
00000380: 206c 696e 652e 0a20 2020 2020 2020 200a   line..        .
00000390: 2020 2020 6669 6c65 5074 7220 3d20 666f      filePtr = fo
000003a0: 7065 6e28 6172 6776 5b31 5d2c 2022 7222  pen(argv[1], "r"
000003b0: 293b 0a20 2020 200a 2020 2020 496e 6974  );.    .    Init
000003c0: 4172 7261 7928 3137 2c20 6f75 7470 7574  Array(17, output
000003d0: 293b 0a20 2020 200a 2020 2020 2f2f 2070  );.    .    // p
000003e0: 7269 6e74 2031 7374 206c 696e 6520 6c69  rint 1st line li
000003f0: 6e65 206e 756d 6265 722e 0a20 2020 2070  ne number..    p
00000400: 7269 6e74 6628 2225 3037 7830 3a20 222c  rintf("%07x0: ",
00000410: 206c 696e 6529 3b0a 2020 2020 0a20 2020   line);.    .   
00000420: 202f 2f20 7265 6164 2063 6861 7261 6374   // read charact
00000430: 6572 7320 7469 6c6c 2074 6865 2065 6e64  ers till the end
00000440: 206f 6620 7468 6520 6669 6c65 2e20 0a20   of the file. . 
00000450: 2020 2077 6869 6c65 2866 7363 616e 6628     while(fscanf(
00000460: 6669 6c65 5074 722c 2022 2563 222c 2026  filePtr, "%c", &
00000470: 696e 7075 7429 2021 3d20 454f 4629 0a20  input) != EOF). 
00000480: 2020 207b 0a20 2020 2020 2020 200a 2020     {.        .  
00000490: 2020 2020 2020 6f75 7470 7574 5b63 6f75        output[cou
000004a0: 6e74 5d20 3d20 696e 7075 743b 0a20 2020  nt] = input;.   
000004b0: 2020 2020 2063 6f75 6e74 2b2b 3b0a 2020       count++;.  
000004c0: 2020 2020 2020 0a20 2020 2020 2020 202f        .        /
000004d0: 2f20 6861 6e64 6c69 6e67 206c 696e 6520  / handling line 
000004e0: 6665 6564 730a 2020 2020 2020 2020 6966  feeds.        if
000004f0: 2028 696e 7075 7420 3d3d 2031 3029 200a   (input == 10) .
00000500: 2020 2020 2020 2020 7b0a 2020 2020 2020          {.      
00000510: 2020 2020 2020 6f75 7470 7574 5b63 6f75        output[cou
00000520: 6e74 202d 2031 5d20 3d20 272e 273b 0a20  nt - 1] = '.';. 
00000530: 2020 2020 2020 2020 2020 2070 7269 6e74             print
00000540: 6628 2230 6122 293b 0a20 2020 2020 2020  f("0a");.       
00000550: 207d 0a20 2020 2020 2020 202f 2f20 6368   }.        // ch
00000560: 6563 6b20 6966 2070 7269 6e74 6162 6c65  eck if printable
00000570: 2063 6861 7261 6374 6572 2e0a 2020 2020   character..    
00000580: 2020 2020 656c 7365 2069 6620 2821 6973      else if (!is
00000590: 7072 696e 7428 696e 7075 7429 290a 2020  print(input)).  
000005a0: 2020 2020 2020 7b0a 2020 2020 2020 2020        {.        
000005b0: 2020 2020 7072 696e 7466 2822 2e22 293b      printf(".");
000005c0: 0a20 2020 2020 2020 207d 2020 2020 2020  .        }      
000005d0: 2020 2020 2020 2020 2020 0a20 2020 2020            .     
000005e0: 2020 2065 6c73 650a 2020 2020 2020 2020     else.        
000005f0: 7b0a 2020 2020 2020 2020 2020 2020 7072  {.            pr
00000600: 696e 7466 2822 2578 222c 2069 6e70 7574  intf("%x", input
00000610: 293b 0a20 2020 2020 2020 207d 0a20 2020  );.        }.   
00000620: 2020 2020 200a 2020 2020 2020 2020 2f2f       .        //
00000630: 2070 7269 6e74 2061 2073 7061 6365 2065   print a space e
00000640: 7665 7279 2032 6e64 2063 6861 7261 6374  very 2nd charact
00000650: 6572 2e0a 2020 2020 2020 2020 7370 6163  er..        spac
00000660: 6572 203d 2028 7370 6163 6572 202b 2031  er = (spacer + 1
00000670: 2920 2520 323b 0a20 2020 2020 2020 2020  ) % 2;.         
00000680: 2020 200a 2020 2020 2020 2020 6966 2028     .        if (
00000690: 7370 6163 6572 203d 3d20 3029 0a20 2020  spacer == 0).   
000006a0: 2020 2020 2020 2020 2070 7269 6e74 6628           printf(
000006b0: 2220 2229 3b0a 2020 2020 2020 2020 0a20  " ");.        . 
000006c0: 2020 2020 2020 202f 2f20 6475 6d70 2074         // dump t
000006d0: 6865 2062 7566 6665 7220 616e 6420 6164  he buffer and ad
000006e0: 7661 6e63 6520 746f 2061 206e 6577 206c  vance to a new l
000006f0: 696e 6520 7665 7279 2031 3674 6820 6368  ine very 16th ch
00000700: 6172 6163 7465 722e 0a20 2020 2020 2020  aracter..       
00000710: 2069 6620 2863 6f75 6e74 203d 3d20 3136   if (count == 16
00000720: 290a 2020 2020 2020 2020 7b0a 2020 2020  ).        {.    
00000730: 2020 2020 2020 2020 6c69 6e65 2b2b 3b0a          line++;.
00000740: 2020 2020 2020 2020 2020 2020 7072 696e              prin
00000750: 7466 2822 2025 735c 6e25 3037 7830 3a20  tf(" %s\n%07x0: 
00000760: 222c 206f 7574 7075 742c 206c 696e 6529  ", output, line)
00000770: 3b0a 2020 2020 2020 2020 2020 2020 636f  ;.            co
00000780: 756e 7420 3d20 303b 2020 2020 2020 2020  unt = 0;        
00000790: 2020 2020 0a20 2020 2020 2020 2020 2020      .           
000007a0: 2049 6e69 7441 7272 6179 2831 372c 206f   InitArray(17, o
000007b0: 7574 7075 7429 3b0a 2020 2020 2020 2020  utput);.        
000007c0: 7d20 2020 2020 2020 200a 2020 2020 7d0a  }        .    }.
000007d0: 2020 2020 0a20 2020 2069 6620 2863 6f75      .    if (cou
000007e0: 6e74 203c 2031 3629 0a20 2020 207b 2020  nt < 16).    {  
000007f0: 2020 2020 2020 0a0a 2020 2020 2020 2020        ..        
00000800: 2f2f 2070 7269 6e74 2070 6c61 6365 2068  // print place h
00000810: 6f6c 6465 7273 2074 6f20 6d61 696e 7461  olders to mainta
00000820: 696e 2066 6f72 6d61 7474 696e 6720 2020  in formatting   
00000830: 2020 2020 200a 2020 2020 2020 2020 666f       .        fo
00000840: 7220 2869 6e74 2069 203d 206f 6666 7365  r (int i = offse
00000850: 745b 636f 756e 7420 2d20 315d 3b20 6920  t[count - 1]; i 
00000860: 3e20 303b 2069 2d2d 290a 2020 2020 2020  > 0; i--).      
00000870: 2020 2020 2020 7072 696e 7466 2822 2022        printf(" "
00000880: 293b 0a20 2020 2020 2020 2020 2020 2020  );.             
00000890: 0a20 2020 2020 2020 2070 7269 6e74 6628  .        printf(
000008a0: 2220 2020 2573 5c6e 222c 206f 7574 7075  "   %s\n", outpu
000008b0: 7429 3b20 2020 2020 2020 200a 2020 2020  t);        .    
000008c0: 7d0a 2020 2020 2020 2020 0a20 2020 2066  }.        .    f
000008d0: 636c 6f73 6528 6669 6c65 5074 7229 3b0a  close(filePtr);.
000008e0: 2020 2020 0a20 2020 2072 6574 7572 6e20      .    return 
000008f0: 303b 0a7d 0a0a 766f 6964 2049 6e69 7441  0;.}..void InitA
00000900: 7272 6179 2869 6e74 2073 697a 652c 2063  rray(int size, c
00000910: 6861 722a 2062 7566 6665 7229 0a7b 0a20  har* buffer).{. 
00000920: 2020 2066 6f72 2028 696e 7420 6920 3d20     for (int i = 
00000930: 303b 2069 203c 2073 697a 653b 2069 2b2b  0; i < size; i++
00000940: 290a 2020 2020 2020 2020 6275 6666 6572  ).        buffer
00000950: 5b69 5d20 3d20 275c 3027 3b0a 7d         [i] = '\0';.}
